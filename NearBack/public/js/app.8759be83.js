(function(t){function i(i){for(var n,s,l=i[0],c=i[1],r=i[2],u=0,d=[];u<l.length;u++)s=l[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);p&&p(i);while(d.length)d.shift()();return a.push.apply(a,r||[]),e()}function e(){for(var t,i=0;i<a.length;i++){for(var e=a[i],n=!0,l=1;l<e.length;l++){var c=e[l];0!==o[c]&&(n=!1)}n&&(a.splice(i--,1),t=s(s.s=e[0]))}return t}var n={},o={app:0},a=[];function s(i){if(n[i])return n[i].exports;var e=n[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=n,s.d=function(t,i,e){s.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,i){if(1&i&&(t=s(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)s.d(e,n,function(i){return t[i]}.bind(null,n));return e},s.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=i,l=l.slice();for(var r=0;r<l.length;r++)i(l[r]);var p=c;a.push([0,"chunk-vendors"]),e()})({0:function(t,i,e){t.exports=e("56d7")},"034f":function(t,i,e){"use strict";var n=e("85ec"),o=e.n(n);o.a},"0688":function(t,i,e){},"0fe4":function(t,i,e){"use strict";var n=e("5f06"),o=e.n(n);o.a},1:function(t,i){},1897:function(t,i,e){},2982:function(t,i,e){t.exports=e.p+"img/NumberOne.114f536b.png"},"2a26":function(t,i,e){},"336d":function(t,i,e){},"56d7":function(t,i,e){"use strict";e.r(i);e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("2b0e"),o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"leftBox"},[e("near-map")],1),e("div",{staticClass:"rightBox"},[e("near-menu"),e("router-view")],1)])},a=[],s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",[e("NearHeader")],1),e("div",[e("NearSecondHeader")],1),e("div",[e("NearStatus")],1),e("div",{staticStyle:{"padding-left":"5px"}},[e("b-nav",[e("b-nav-item",{on:{click:function(i){return t.changeToggle(t.title)}}},[e("router-link",{attrs:{to:"/popup"}},[t._v(t._s(this.title[0].label))])],1),e("b-nav-item",{on:{click:function(i){return t.changeToggle(t.title)}}},[e("router-link",{attrs:{to:"/missionComplete"}},[t._v(t._s(this.title[1].label))])],1)],1)],1)])},l=[],c=function(){var t=this,i=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"check"},[e("img",{staticClass:"imgSet",attrs:{src:"NearLogo.svg",width:"100px"}})])}],p={},u=p,d=(e("7ef5"),e("2877")),v=Object(d["a"])(u,c,r,!1,null,null,null),m=v.exports,f=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("b-container",{staticClass:"bv-example-row"},[e("div",[e("b-row",{staticClass:"divOut"},[e("b-col",[e("b-row",{staticClass:"divIn"},[e("b-col",{staticStyle:{"padding-left":"2%"}},[e("i",{staticClass:"fas fa-circle first"}),e("span",[t._v(" 신고접수 "),e("span",{staticStyle:{color:"#707070"}},[t._v(t._s(t.victimCall)+"건")]),e("span",{staticClass:"divLine"},[t._v("|")])])]),e("b-col",[e("i",{staticClass:"fas fa-circle second"}),e("span",[t._v(" 출동 배정 "),e("span",{staticStyle:{color:"#707070"}},[t._v(t._s(t.askingCall)+"건")]),e("span",{staticClass:"divLine"},[t._v("|")])])]),e("b-col",[e("i",{staticClass:"fas fa-circle third"}),e("span",[t._v(" 출동 중 "),e("span",{staticStyle:{color:"#707070"}},[t._v(t._s(t.policeCall)+"건")]),e("span",{staticClass:"divLine2"},[t._v("|")])])]),e("b-col",{staticStyle:{"padding-right":"10px"}},[e("i",{staticClass:"fas fa-circle fourth"}),e("span",[t._v("보호 관찰")]),e("span",{staticStyle:{color:"#707070","padding-left":"2px"}},[t._v(t._s(t.victimSafe)+"건")])])],1)],1)],1)],1)])},g=[],h=new n["default"],C={data:function(){return{victimCall:0,askingCall:0,policeCall:0,victimSafe:3}},created:function(){var t=this;h.$on("victimCall",(function(){t.victimCall+=1})),h.$on("askingPolice",(function(){t.askingCall+=1})),h.$on("policeCall",(function(){t.askingCall-=1,t.policeCall+=1})),h.$on("statusReset",(function(){t.policeCall-=1,t.victimCall-=1,t.victimSafe+=1})),h.$on("victimSafeCall",(function(){t.victimSafe-=1})),h.$on("victimSafeCallBack",(function(){t.victimSafe+=1}))}},_=C,k=(e("82d4"),Object(d["a"])(_,f,g,!1,null,null,null)),b=k.exports,y=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"secondHeader"},[t._v(" 현재 상황 "),e("span",{staticClass:"timeShow"},[t._v(t._s(t.timeShow))])])},w=[],B=(e("0d03"),{data:function(){return{timeShow:""}},methods:{timeFunction:function(){var t=this;setInterval((function(){var i=(new Date).toLocaleDateString(),e=(new Date).toLocaleTimeString();t.timeShow=i+" "+e}),100)}},mounted:function(){this.timeShow=this.timeFunction()}}),O=B,I=(e("0fe4"),Object(d["a"])(O,y,w,!1,null,null,null)),S=I.exports,$={data:function(){return{title:[{label:"알림",clicked:!1},{label:"사건완료",clicked:!1}],checked:!1}},methods:{changeToggle:function(){this.title.clicked=!this.title.clicked}},components:{NearHeader:m,NearStatus:b,NearSecondHeader:S}},D=$,x=(e("8b0e"),Object(d["a"])(D,s,l,!1,null,"f25c5206",null)),N=x.exports,W=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("gmap-map",{ref:"gmap",staticStyle:{width:"100%",height:"100vh"},attrs:{center:{lat:t.currentLocation.lat,lng:t.currentLocation.lng},zoom:8}},[t._l(t.markers,(function(i,n){return e("gmap-marker",{key:n,attrs:{position:i.position,icon:i.icon},on:{click:function(e){return t.toggleInfoWindow(i,n)}}})})),e("gmap-info-window",{attrs:{options:t.infoOptions,position:t.infoWindowPos,opened:t.infoWinOpen},on:{closeclick:function(i){t.infoWinOpen=!1}}},[e("div",{domProps:{innerHTML:t._s(t.infoContent)},on:{Click:function(i){return t.changedInfo()}}}),t.clickedVictim?e("NearChart"):t._e(),e("NearMapModal")],1)],2)],1)},P=[],M=(e("a4d3"),e("e01a"),e("d28b"),e("99af"),e("b0c0"),e("d3b7"),e("3ca3"),e("38cf"),e("ddb0"),e("bc3a")),E=e.n(M),j=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[t.isPolice?e("button",{style:t.policeButton,on:{click:function(i){return t.policeButtonClick()}}},[t._v(t._s(t.pMessage))]):t.isWaiting?e("button",{style:t.policeButton,on:{click:function(i){return t.policeButtonClick()}}},[t._v(t._s(t.pMessage))]):t.isBusy?e("button",{style:t.policeBusyButton},[t._v(t._s(t.pMessage))]):t.isVictim?e("button",{style:t.victimButton,on:{click:function(i){return t.victimButtonClick()}}},[t._v(t._s(t.vMessage))]):t._e()])},A=[],L=e("2fa7"),H=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"dv"},[n("div",[n("div",{staticClass:"rightBox"},[t.victim|t.police|t.policeWay?n("div",{staticClass:"testline"},[t.victim?n("div",{staticClass:"firstDiv",style:t.red},[n("img",{staticClass:"imgMv",attrs:{src:e("2982"),width:"30px",align:"left"}})]):t.police?n("div",{staticClass:"firstDiv",style:t.purple},[n("img",{staticClass:"imgMv",attrs:{src:e("6d03"),width:"30px",align:"left"}})]):t.policeWay?n("div",{staticClass:"firstDiv",style:t.blue},[n("img",{staticClass:"imgMv",attrs:{src:e("5e84"),width:"30px",align:"left"}})]):t._e(),t.victim?n("div",{staticClass:"secondDiv"},[t._v(t._s(t.callInfo1))]):t.police?n("div",{staticClass:"secondDiv"},[t._v(t._s(t.callInfo3))]):t.policeWay?n("div",{staticClass:"secondDiv"},[t._v(t._s(t.callInfo2))]):t._e(),n("div",[t.victim?n("span",{staticClass:"thirdDiv"},[t._v(" "+t._s(t.victimName)+", "),n("span",[t._v(t._s(t.typeOfCall[0]))])]):t._e(),t.police?n("span",{staticClass:"thirdDiv"},[t._v(" "+t._s(t.victimWHO)+" "),n("span",[t._v("수동 신고")])]):t._e(),t.policeWay?n("span",{staticClass:"thirdDiv"},[t._v(" "+t._s(t.victimWHO)+" "),n("span",[t._v("수동 신고")])]):t._e()]),t.victim?n("span",{staticClass:"fourthDiv"},[t._v(t._s(t.currentSituation[0]))]):t.police?n("span",{staticClass:"fourthDiv"},[t._v(" "+t._s(t.policeName)+" "),n("span",[t._v(t._s(t.policeClass))]),n("span",[t._v("("+t._s(t.policeWorkArea)+")")]),n("span",{staticStyle:{"padding-left":"5px"}},[t._v(t._s(t.messages[1]))])]):t.policeWay?n("span",{staticClass:"fourthDiv"},[t._v(" "+t._s(t.policeName)+" "),n("span",[t._v(t._s(t.policeClass))]),n("span",[t._v("("+t._s(t.policeWorkArea)+")")]),n("span",{staticStyle:{"padding-left":"5px"}},[t._v(t._s(t.messages[3]))])]):t._e()]):t._e()])])])},T=[],V={data:function(){return{newPosition:{},messages:["신고접수","출동 배정","출동 중","출동 승인"],currentSituation:["담당 경찰관이 배정되지 않았습니다."],typeOfCall:["수동 신고","자동 신고"],red:{backgroundColor:"#E60012",width:"15%",height:"100%",alignItem:"center",justifyContent:"center",position:"center"},purple:{backgroundColor:"#7E318E",idth:"15%",height:"100%",alignItem:"center",justifyContent:"center",position:"center"},blue:{backgroundColor:"#036EB8",idth:"15%",height:"100%",alignItem:"center",justifyContent:"center",position:"center"},victim:!1,police:!1,policeWay:!1,callInfo1:"",callInfo2:"",callInfo3:"",victimName:"",policeName:"",policeClass:"",policeWorkArea:"",victimWHO:""}},mounted:function(){}},R=V,F=(e("6edf"),Object(d["a"])(R,H,T,!1,null,"7c699f19",null)),J=F.exports,Y=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"dv"},[t.isDone?n("div",[n("div",[n("div",{staticClass:"rightBox"},[n("div",{staticClass:"testline"},[n("div",{staticClass:"firstDiv",style:t.finish},[n("img",{staticClass:"imgMv",attrs:{src:e("60b0"),width:"30px",align:"left"}})]),n("span",{staticClass:"secondDiv"},[t._v("사건완료")]),n("div",[n("span",{staticClass:"thirdDiv"},[t._v(t._s(t.victimName))])]),n("div",{staticClass:"fourthDiv"},[n("span",{staticClass:"fourthDiv"},[t._v(t._s(t.policeName))]),n("span",{staticStyle:{"padding-left":"5px"}},[t._v(t._s(t.policeClass))]),n("span",[t._v("("+t._s(t.policeWorkArea)+")")]),n("span",[t._v("담당")]),n("span")])])])])]):t._e()])},K=[],z={data:function(){return{isDone:!1,marker:[],policeId:"",victimId:"",finish:{backgroundColor:"#707070",width:"15%",height:"50px",alignItem:"center",justifyContent:"center",position:"center"},policeName:"",victimName:"",policeClass:"",policeWorkArea:"",whiteCall:"white.png",yellowCall:"yellow.ico",policeBackID:"",victimBackID:""}},created:function(){}},U=z,G=(e("5ae1"),Object(d["a"])(U,Y,K,!1,null,"68a5d847",null)),Z=G.exports,q=e("8055"),Q=e.n(q),X={data:function(){var t;return t={socket:Q()("http://172.16.41.21:7499"),markers:[{id:0,name:"유승훈(남)",age:"27 (931027)",bloodType:"O형 (RH+)",position:{lat:37.550378,lng:127.073192},info:"조선실세 사건 증인 보호 중",img:"MrYoo.jpeg",report:!1,identity:"victim",icon:{url:"yellow.png"}},{id:1,name:"박원형(남)",workArea:"광진 경찰서",class:"경위",bloodType:"AB형(RH+)",position:{lat:37.545344,lng:127.07664},img:"Police.png",report:!1,waitingCall:!1,acceptCall:!1,finishCall:!1,identity:"police",icon:{url:"white.png"}}],vMessage:"신고 여부 확인",pMessage:"출동 대기중",message:"출동 배정",policeMessage:"출동 대기중",victimMessage:"출동 배정",backPolice:!1,backVictim:!1,buttonClicked:!1,victimCall:1,victimBackCall:-1,policeCall:1,policeBackCall:-1,waitingCall:1,isVictim:!1,isPolice:!1,isWaiting:!1,isBusy:!1,isDone:!1,isFinished:1,victimButton:{width:"100%",height:"40px",marginTop:"20px",backgroundColor:"#E60012",color:"white",border:0,outline:0,fontSize:"17px"},policeButton:{width:"100%",height:"40px",backgroundColor:"#036EB8",color:"white",padding:0,margin:30,border:0,outline:0,fontSize:"17px"},policeBusyButton:{width:"100%",height:"40px",backgroundColor:"gray",color:"white",padding:0,margin:30,border:0,outline:0,fontSize:"17px"},redCall:"red.png",whiteCall:"white.png",yellowCall:"yellow.png",blueCall:"blue.png",purpleCall:"purple.png",policeBackCALLID:"",victimBackCALLID:""},Object(L["a"])(t,"purpleCall","purple.png"),Object(L["a"])(t,"waitingCall",1),Object(L["a"])(t,"blueCall","blue.png"),Object(L["a"])(t,"victimCallName",""),Object(L["a"])(t,"isAccept",!1),Object(L["a"])(t,"policeBBB",!1),t},created:function(){var t=this;h.$on("getPosition",(function(i,e,n,o){t.markers=i,console.log(t.markers.identity),t.victimCall=e,"police"===t.markers.identity?!0===o?(console.log("경찰이 바쁜상태"),t.isPolice=!1,t.isWaiting=!1,t.isVictim=!1,t.isBusy=!0):!1===o&&(console.log("경찰이 안바쁜 상태"),t.isPolice=!0,t.policeButton.backgroundColor="#036EB8",t.isWaiting=!1,t.isVictim=!1,t.isBusy=!1):(t.isVictim=!0,t.isWaiting=!1,t.isPolice=!1,t.isBusy=!1,t.victimCallName=i.name)})),h.$on("doneCall",(function(i){console.log("doneCall identity",i),!1===t.policeBBB?(t.isVictim=!0,t.isPolice=!1,t.vMessage="신고 여부 확인",t.pMessage="출동 대기중"):!0===t.policeBBB&&(t.isVictim=!1,t.isPolice=!0,t.policeButton.backgroundColor="#036EB8",t.vMessage="신고 여부 확인",t.pMessage="출동 대기중"),h.$emit("statusReset")})),this.socket.on("SEND_POLICE_INFO",(function(i){console.log("SEND_POLICE_INFO 작동해서 내 프런트에서 변화 시작!"),console.log("경찰 버튼 및 상태 출동중으로 바뀜!");i.id;t.policeButton.backgroundColor="#036EB8",t.isWaiting=!1,t.isPolice=!0,t.isWaiting=!1,t.isVictim=!1,t.pMessage="출동 중",h.$emit("policeCall",console.log("status에 파란색 값 증가!")),console.log("파란색!! 파란색!!"),h.$emit("changeBlue",t.blueCall,i.id),h.$emit("policeDONE",i,i.id),h.$emit("getPosition2",i)})),h.$on("victimCancelCAll",(function(){console.log("버튼 색깔 및 표시를 바꿈!"),t.isPolice=!1,t.isWaiting=!1,t.isBusy=!1,t.isVictim=!0,t.vMessage="신고 여부 확인",t.pMessage="출동 대기중",t.victimButton.backgroundColor="#E60012",t.policeButton.backgroundColor="#036EB8",t.markers[0].report=!1,t.markers[1].report=!1})),this.socket.on("CHECK_BUTTON",(function(){console.log("사용자 버튼 빨간색으로 바뀐뒤! 신고접수 표시!"),t.victimButton.backgroundColor="#E60012",t.vMessage="신고 접수"})),h.$on("police_isBusy",(function(){console.log("바빠요! 버튼바꿔!"),t.isPolice=!1,t.isWaiting=!1,t.isVictim=!1,t.isBusy=!0,t.markers[1].report=!0,t.pMessage="출동 불가"})),h.$on("police_canWork",(function(){console.log("다시 일할수 있어요!"),t.isBusy=!1,t.isWaiting=!1,t.isVictim=!1,t.isPolice=!0,t.pMessage="출동 대기중",t.markers[1].report=!1,h.$emit("police_not_busy")})),h.$on("victim_no_button",(function(){console.log("15초가 지난후에 사용자가 신고취소를 누름!!"),t.isVictim=!0,t.isBusy=!1,t.isWaiting=!1,t.isPolice=!1,t.vMessage="사건여부 확인",t.victimButton.backgroundColor="#E60012"}))},methods:{policeButtonClick:function(){!1===this.markers.report&&!0===this.isPolice&&(this.isWaiting=!0,this.isPolice=!1,this.isVictim=!1,this.isBusy=!1,this.markers.report=!this.markers.report,h.$emit("buttonPurple",this.markers,this.victimCallName),this.policeButton.backgroundColor="gray",h.$emit("changePurple",this.purpleCall,this.markers.id),h.$emit("askingPolice"),this.socket.emit("POLICE_CALLNOW",console.log("YES!")),this.policeBBB=!0,this.pMessage=" 확인 중",this.policeBackCALLID=this.markers.id)},victimButtonClick:function(){if(!1===this.markers.report&&!0===this.isVictim){this.policeBBB=!1,this.markers.report=!this.markers.report,this.victimButton.backgroundColor="gray",this.vMessage="신고 여부 확인중 ",this.victimBackCALLID=this.markers.id;var t=this.markers.id;h.$emit("victimCall",this.victimCall,t),h.$emit("victimSafeCall"),h.$emit("redImage",this.redCall,t),h.$emit("getPosition2",this.markers),h.$emit("victimDONE",this.markers,t),this.socket.emit("VICTIM_CHECK",console.log("victim check! from the button"))}}},components:{NearPopUp:J,NearMissionComplete:Z}},tt=X,it=Object(d["a"])(tt,j,A,!1,null,"41be9bf6",null),et=it.exports,nt=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticStyle:{"padding-top":"10px"},style:t.bpmWord},[t._v(" 현재 심장박동 "),e("span",{style:t.bpm},[t._v(t._s(t.pulseNumber))]),e("span",{style:t.bpmBpm},[t._v("bpm")])]),e("trend",{key:t.componentKey,attrs:{data:t.numbers,gradient:["#6fa8dc","#42b983","#2c3e50"],"auto-draw":"",autoDrawDuration:5e3,smooth:""}})],1)},ot=[],at={data:function(){return{componentKey:0,bpm:{paddingLeft:"290px",fontWeight:"bold",fontSize:"25px"},bpmWord:{fontWeight:"bold",paddingLeft:0,paddingBottom:"15px",fontSize:"17px"},bpmBpm:{fontWeight:"normal"},numbers:[-.1,-0,1,-.1,-.1,.5,.3,.1,-.7,-.8,.1,.7,.8,.1,-.7,-.8,.2,.2,.2,-.1,-.1,-.1,-.1,-0,1,-.1,-.1,.5,.3,.1,-.7,-.8,.1,.7,.8,.1,-.7,-.8,.2,.2,.2,-.1,-.1,-.1,-.1,-0,1,-.1,-.1,.5,.3,.1,-.7,-.8,.1,.7,.8,.1,-.7,-.8,.2,.2,.2,-.1,-.1,-.1,-.1,-0,1,-.1,-.1,.5,.3,.1,-.7,-.8,.1,.7,.8,.1,-.7,-.8,.2,.2,.2,-.1,-.1,-.1,-.1,-0,1,-.1,-.1,.5,.3,.1,-.7,-.8,.1,.7,.8,.1,-.7,-.8,.2,.2,.2,-.1,-.1,-.1,-.1,-0,1,-.1,-.1,.5,.3,.1,-.7,-.8,.1,.7,.8,.1,-.7,-.8,.2,.2,.2,-.1,-.1,-.1,-.1,-0,1,-.1,-.1,.5,.3,.1,-.7,-.8,.1,.7,.8,.1,-.7,-.8,.2,.2,.2,-.1,-.1,-.1,-.1,-0,1,-.1,-.1,.5,.3,.1,-.7,-.8,.1,.7,.8,.1,-.7,-.8,.2,.2,.2,-.1,-.1,-.1],pulseNumber:""}},methods:{callFunction:function(){var t=this;setInterval((function(){t.componentKey+=1}),5e3)},checkPulse:function(){var t=this;setInterval((function(){t.pulseNumber=Math.ceil(40*Math.random()+50)}),5e3)}},mounted:function(){this.callFunction(),this.checkPulse()}},st=at,lt=(e("90c1"),Object(d["a"])(st,nt,ot,!1,null,null,null)),ct=lt.exports,rt={name:"GoogleMap",data:function(){return{socket:Q()("http://172.16.41.21:7499"),currentLocation:{lat:0,lng:0},map:null,infoContent:"",infoWindowPos:{lat:0,lng:0},infoWinOpen:!1,currentMidx:null,countCall:1,infoOptions:{pixelOffset:{width:0,height:-35}},callfunction:!1,markers:[{id:0,name:"유승훈(남)",age:"27 (931027)",bloodType:"O형 (RH+)",position:{lat:37.550378,lng:127.073192},info:"조선실세 사건 증인 보호 중",img:"MrYoo.jpeg",report:!1,identity:"victim",icon:{url:"yellow.png"}},{id:1,name:"박원형(남)",workArea:"광진 경찰서",class:"경위",bloodType:"AB형(RH+)",position:{lat:37.545344,lng:127.07664},img:"Police.png",report:!1,waitingCall:!1,acceptCall:!1,finishCall:!1,identity:"police",icon:{url:"white.png"}},{id:2,name:"여소빈",age:"22 (981001)",bloodType:"B형 (RH+)",position:{lat:37.539704,lng:127.065603},info:"최근 스토커로부터 전화 협박 받음",img:"MrYoo.jpeg",report:!1,identity:"victim",icon:{url:"yellow.png"}},{id:3,name:"손영덕",age:"27 (930304)",bloodType:"A형 (RH+)",position:{lat:37.537928,lng:127.071459},img:"MrYoo.jpeg",info:"신변보호 필요",report:!1,identity:"victim",icon:{url:"yellow.png"}},{id:4,name:"김장수(남)",workArea:"광진 파출소",class:"경위",bloodType:"O형(RH+)",position:{lat:37.55974,lng:127.085245},img:"Police.jpg",report:!1,waitingCall:!1,acceptCall:!1,finishCall:!1,identity:"police",icon:{url:"white.png"}},{id:5,name:"이지광(남)",workArea:"광진 파출소",class:"경위",bloodType:"A형(RH+)",position:{lat:37.548439,lng:127.04845},img:"Police.jpg",report:!1,waitingCall:!1,acceptCall:!1,finishCall:!1,identity:"police",icon:{url:"white.png"}},{id:6,name:"김목수(남)",workArea:"광진 파출소",class:"경위",bloodType:"B형(RH+)",position:{lat:37.545554,lng:127.099834},img:"Police.jpg",report:!1,waitingCall:!1,acceptCall:!1,finishCall:!1,identity:"police",icon:{url:"white.png"}},{id:7,name:"최태형(남)",workArea:"광진 파출소",class:"경위",bloodType:"O형(RH+)",position:{lat:37.538233,lng:127.053206},img:"Police.jpg",report:!1,waitingCall:!1,acceptCall:!1,finishCall:!1,identity:"police",icon:{url:"white.png"}}],clickedPosition:{lat:0,lng:0},clickedPolice:!1,clickedVictim:!1,componentKey:0,purpleCall:"purple.png",waitingCall:1,policeBackID:"",victimBackID:"",policeBusy:!1,rasberryCall:null,calling:!0,clear:!0,repeat:!1,repeat2:!1}},created:function(){var t=this;this.intervalid=setInterval((function(){E.a.get("/raspData").then((function(i){console.log("intervalid"),"Fucking"===i.data.response?(t.rasberryCall=i.data.response,t._StopInterval(),E.a.post("/raspNull",{data:null})):t.rasberryCall=null})).catch()}),5e3),h.$on("rasberryCall",(function(){t.markers[0].icon="red.png",clearInterval(rasBCall)})),h.$on("redImage",(function(i,e){t.markers[e].icon=i})),h.$on("yellowImage",(function(i,e){t.markers[e].icon=i})),h.$on("changeBlue",(function(i,e){t.markers[e].icon=i})),h.$on("whiteImage",(function(i,e){t.markers[e].icon=i})),h.$on("backYellow",(function(i){t.victimBackID=i,t.markers[i].icon="yellow.png"})),h.$on("backWhite",(function(i){t.markers[i].icon="white.png"})),h.$on("changePurple",(function(i,e){t.markers[e].icon=i})),h.$on("FinishJob",(function(i,e){t.markers[i.id].report=!1,t.markers[e.id].report=!1})),this.socket.on("victim_cancel",(function(){console.log("사용자로부터 취소신청 받고 맵 마커 색깔이 바뀐후에 버튼으로 이벤트 발생!"),t.markers[0].icon="yellow.png",t.markers[0].report=!1,h.$emit("victimCancelCAll"),h.$emit("victimSafeCallBack"),t._StartInterval(),t.repeat=!0,t.repeat2=!1})),this.socket.on("POLICE_BUSY",(function(){console.log("바쁘다고! 색깔바꿔!"),t.markers[1].icon="green.png",t.policeBusy=!0,h.$emit("police_isBusy")})),this.socket.on("POLICE_CAN_WORK",(function(){console.log("NearMap에서 이벤트 받고 경찰이 다시 일할수있음"),t.markers[1].icon="white.png",t.policeBusy=!1,h.$emit("police_canWork")})),this.socket.on("VICTIM_NO_NEED_HELP",(function(i){console.log("사용자가 신고접수후 경찰이 출동했는데 사용자가 취소를 눌렀다!"),t.markers[0].icon="yellow.png",t.markers[0].report=!1,t.markers[1].icon="white.png",t.markers[1].report=!1,h.$emit("victim_no_need_help"),h.$emit("victim_no_button"),h.$emit("victimSafeCallBack"),h.$emit("doneCall",i),t._StartInterval(),t.repeat=!0,t.repeat2=!1})),this.socket.on("JOBS_done",(function(i){t.markers[0].icon="yellow.png",t.markers[1].icon="white.png",t.markers[0].report=!1,t.markers[1].report=!1,console.log("JOBS_done 받고 JOBSDONE을 NearFlow로 보냄! "),h.$emit("JOBSDONE",i,t.markers[0]),h.$emit("doneCall"),t._StartInterval(),t.repeat=!0,t.repeat2=!1})),h.$on("police_not_busy",(function(){t.policeBusy=!1})),this.socket.on("KILL_POLICE",(function(){t.markers[1].icon=NULL})),this.socket.emit("POLICE_YES_OR_NO",(function(){}))},mounted:function(){var t=this;this.$refs.gmap.$mapPromise.then((function(i){var e=new google.maps.LatLngBounds,n=!0,o=!1,a=void 0;try{for(var s,l=t.markers[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var c=s.value;e.extend(c.position)}}catch(r){o=!0,a=r}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}i.fitBounds(e)}))},watch:{rasberryCall:function(t){console.log(t),"Fucking"===t?(this.markers[0].icon="red.png",h.$emit("getPosition2",this.markers[0])):console.log("Rasberry Call is done")},clear:function(t){this._StopInterval()}},beforeMount:function(){console.log("beforeMount")},beforeUpdate:function(){console.log("beforeUpdate")},updated:function(){var t=this;if(console.log("updated"),!0===this.repeat&&!1===this.repeat2){console.log("hahaha");setInterval((function(){console.log("intervalid2"),E.a.get("/raspData").then((function(i){console.log(i.data.response),"Fucking"===i.data.response?(t.rasberryCall=i.data.response,t._StopInterval2(),t.repeat=i.data.repeat):t.rasberryCall=null})).catch()}),5e3)}if(!1===this.repeat&&!0===this.repeat2){console.log("GOOD");setInterval((function(){console.log("intervalid3"),E.a.get("/raspData").then((function(i){console.log(i.data.response),"Fucking"===i.data.response?(t.rasberryCall=i.data.response,t._StopInterval3(),t.repeat=i.data.repeat):t.rasberryCall=null})).catch()}),5e3)}},methods:{_StartInterval:function(){var t=this;E.a.post("/rasNotNull").then((function(i){console.log("도착!!"),console.log(t.repeat)})).catch((function(t){console.log(t)}))},_StopInterval:function(){clearInterval(this.intervalid)},_StopInterval2:function(){clearInterval(this.intervalid2)},_StopInterval3:function(){clearInterval(this.intervalid3)},toggleInfoWindow:function(t,i){this.infoWindowPos=t.position,this.infoContent=this.getInfoWindowContent(t),this.currentMidx==i?this.infoWinOpen=!this.infoWinOpen:(this.infoWinOpen=!0,this.currentMidx=i)},geolocation:function(){var t=this;navigator.geolocation.getCurrentPosition((function(i){t.currentLocation={lat:i.coords.latitude,lng:i.coords.longitude}}))},getInfoWindowContent:function(t,i){this.clickedPosition=t,h.$emit("getPosition",this.clickedPosition,this.countCall,this.clickedPosition.id,this.policeBusy);var e=JSON.stringify(t.img);return"police"===t.identity?(this.clickedVictim=!1,"<div>\n            <div >\n                <img  src=".concat(e,' align="left" width="128px" height="128px" class="imgMv">\n                <div class="policeFrontContents">이름    <span class="policeBackContents">').concat(t.name,'</span></div>\n               <div class="policeFrontContents">소속    <span class="policeBackContents">').concat(t.workArea,'</span></div>\n               <div class="policeFrontContents">계급   <span class="policeBackContents" >').concat(t.class,'</span></div>\n               <div class="policeFrontContents">혈액형    <span class="policeBackContents" style="padding-left:8px;">').concat(t.bloodType,'</span></div>\n            </div>\n          </div>\n          <div class="dv"></div>\n          </div>')):(this.clickedPolice=!1,this.clickedVictim=!0,"<div>\n            <div>\n                <img  src=".concat(e,' align="left" width="106.2px" height="141.6px" class="imgMv" >\n                <div class="contents-word">이름    <span class="contents-dword">').concat(t.name,'</span></div>\n               <div class="contents-word">나이    <span class="contents-dword">').concat(t.age,'</span></div>\n               <div class="contents-word">혈액형   <span class="contents-dword" style="padding-left:8px;">').concat(t.bloodType,'</span></div>\n               <div class="contents-word">정보    <span class="contents-dword">').concat(t.info,'</span></div>\n            </div>\n            <div class="divChange"></div>\n            </div>\n          </div>\n          </div>'))}},components:{NearMapModal:et,NearChart:ct,NearMissionComplete:Z,NearMPopUp:J}},pt=rt,ut=(e("7426"),Object(d["a"])(pt,W,P,!1,null,null,null)),dt=ut.exports,vt={components:{NearMenu:N,NearMap:dt}},mt=vt,ft=(e("034f"),Object(d["a"])(mt,o,a,!1,null,null,null)),gt=ft.exports,ht=e("8c4f"),Ct=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"dv"},[t.isBefore?n("div",[t.victim|t.police|t.policeWay?n("div",{staticClass:"rightBox"},[n("div",{staticClass:"testline"},[t.victim?n("div",{staticClass:"firstDiv",style:t.red},[n("img",{staticClass:"imgMv",attrs:{src:e("2982"),width:"30px",align:"left"}})]):t.police?n("div",{staticClass:"firstDiv",style:t.purple},[n("img",{staticClass:"imgMv",attrs:{src:e("6d03"),width:"30px",align:"left"}})]):t.policeWay?n("div",{staticClass:"firstDiv",style:t.blue},[n("img",{staticClass:"imgMv",attrs:{src:e("5e84"),width:"30px",align:"left"}})]):t._e(),t.victim?n("div",{staticClass:"secondDiv"},[t._v(t._s(t.callInfo1))]):t.police?n("div",{staticClass:"secondDiv"},[t._v(t._s(t.callInfo3))]):t.policeWay?n("div",{staticClass:"secondDiv"},[t._v(t._s(t.callInfo2))]):t._e(),n("div",[t.victim?n("span",{staticClass:"thirdDiv"},[t._v(" "+t._s(t.victimName)+", "),n("span",[t._v(t._s(t.typeOfCall[0]))])]):t._e(),t.police?n("span",{staticClass:"thirdDiv"},[t._v(" "+t._s(t.victimWHO)+" "),n("span",[t._v("수동 신고")])]):t._e(),t.policeWay?n("span",{staticClass:"thirdDiv"},[t._v(" "+t._s(t.victimWHO)+" "),n("span",[t._v("수동 신고")])]):t._e()]),t.victim?n("span",{staticClass:"fourthDiv"},[t._v(t._s(t.currentSituation[0]))]):t.police?n("span",{staticClass:"fourthDiv"},[t._v(" "+t._s(t.policeName)+" "),n("span",[t._v(t._s(t.policeClass))]),n("span",[t._v("("+t._s(t.policeWorkArea)+")")]),n("span",{staticStyle:{"padding-left":"5px"}},[t._v(t._s(t.messages[1]))])]):t.policeWay?n("span",{staticClass:"fourthDiv"},[t._v(" "+t._s(t.policeName)+" "),n("span",[t._v(t._s(t.policeClass))]),n("span",[t._v("("+t._s(t.policeWorkArea)+")")]),n("span",{staticStyle:{"padding-left":"5px"}},[t._v(t._s(t.messages[3]))])]):t._e()])]):t._e()]):t.isDone?n("div",[n("div",[n("div",{staticClass:"rightBox"},[n("div",{staticClass:"testline"},[n("div",{staticClass:"Div1",style:t.finish},[n("img",{staticClass:"imgMv",attrs:{src:e("60b0"),width:"30px",align:"left"}})]),n("span",{staticClass:"Div2"},[t._v("사건완료")]),n("div",[n("span",{staticClass:"Div3"},[t._v(" "+t._s(t.victimName)+" "),n("span",[t._v(t._s(t.typeOfCall[0]))])])]),n("div",{staticClass:"Div4"},[n("span",{staticClass:"Div4"},[t._v(t._s(t.policeName))]),n("span",{staticStyle:{"padding-left":"5px"}},[t._v(t._s(t.policeClass))]),n("span",[t._v("("+t._s(t.policeWorkArea)+")")]),n("span",[t._v("담당")]),n("span")])])])])]):t.cancelCall?n("div",[n("div",[n("div",{staticClass:"rightBox"},[n("div",{staticClass:"testline"},[n("div",{staticClass:"Div1",style:t.finish},[n("img",{staticClass:"imgMv",attrs:{src:e("60b0"),width:"30px",align:"left"}})]),n("span",{staticClass:"Div2"},[t._v("신고취소")]),n("div",[n("span",{staticClass:"Div3"},[t._v(" 유승훈(남) "),n("span",[t._v(t._s(t.typeOfCall[0]))])])]),t._m(0)])])])]):t._e()])},_t=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"Div4"},[e("span",{staticClass:"Div4"},[t._v("박원형(남)")]),e("span",{staticStyle:{"padding-left":"5px"}},[t._v("경위")]),e("span",[t._v("(광진 경찰서)")]),e("span",[t._v("담당")]),e("span")])}],kt={data:function(){var t;return t={isBefore:!0,markers:[{id:0,name:"유승훈(남)",age:"27 (931027)",bloodType:"O형 (RH+)",position:{lat:37.550378,lng:127.073192},info:"조선실세 사건 증인 보호 중",img:"MrYoo.jpeg",report:!1,identity:"victim",icon:{url:"yellow.png"}},{id:1,name:"박원형(남)",workArea:"광진 경찰서",class:"경위",bloodType:"AB형(RH+)",position:{lat:37.545344,lng:127.07664},img:"Police.png",report:!1,waitingCall:!1,acceptCall:!1,finishCall:!1,identity:"police",icon:{url:"white.png"}}],newPosition:{},messages:["신고접수","출동 배정","출동 중","출동 승인"],currentSituation:["담당 경찰관이 배정되지 않았습니다."],typeOfCall:["수동 신고","자동 신고"],red:{backgroundColor:"#E60012",width:"15%",height:"100%",alignItem:"center",justifyContent:"center",position:"center"},purple:{backgroundColor:"#7E318E",idth:"15%",height:"100%",alignItem:"center",justifyContent:"center",position:"center"},blue:{backgroundColor:"#036EB8",idth:"15%",height:"100%",alignItem:"center",justifyContent:"center",position:"center"},victim:!1,police:!1,policeWay:!1,callInfo1:"",callInfo2:"",callInfo3:"",victimName:"",policeName:"",policeClass:"",policeWorkArea:"",victimWHO:"",isDone:!1,cancelCall:!1,marker:[],policeId:"",victimId:"",finish:{backgroundColor:"#707070",width:"15%",height:"50px",alignItem:"center",justifyContent:"center",position:"center"}},Object(L["a"])(t,"policeName",""),Object(L["a"])(t,"victimName",""),Object(L["a"])(t,"policeClass",""),Object(L["a"])(t,"policeWorkArea",""),Object(L["a"])(t,"whiteCall","white.png"),Object(L["a"])(t,"yellowCall","yellow.png"),Object(L["a"])(t,"policeBackID",""),Object(L["a"])(t,"victimBackID",""),t},created:function(){var t=this;h.$on("policeDONE",(function(i,e){t.policeId=e,t.policeName=i.name,t.policeClass=i.class,t.policeWorkArea=i.workArea})),h.$on("victimDONE",(function(i,e){t.victimId=e,t.victimName=i.name})),h.$on("JOBSDONE",(function(i,e){t.isBefore=!1,t.cancelCall=!1,t.isDone=!0,console.log("모든일이 끝났습니다! JOBS DONE!"),h.$emit("backYellow",e.id),h.$emit("backWhite",i.id),h.$emit("backPoliceButton"),h.$emit("backVictimButton"),h.$emit("doneCall"),h.$emit("FinishJob",i,e)})),h.$on("victim_no_need_help",(function(){t.isBefore=!1,t.cancelCall=!0,t.isDone=!1,h.$emit("victimSafeCallBack")}))},mounted:function(){var t=this;h.$on("getPosition2",(function(i){t.newPosition=i,t.isBefore=!0,t.isDone=!1,t.cancelCall=!1,"victim"===i.identity?(t.victim=!0,t.police=!1,t.policeWay=!1,t.callInfo1="신고 접수",t.victimName=i.name):"police"===i.identity&&(t.police=!1,t.policeWay=!0,t.victim=!1,t.callInfo2="출동 중",t.policeName=i.name,t.policeClass=i.class,t.policeWorkArea=i.workArea)})),h.$on("buttonPurple",(function(i,e){t.newPosition=i,"police"===i.identity&&(t.police=!0,t.policeWay=!1,t.victim=!1,t.callInfo3="확인 중",t.policeName=i.name,t.policeClass=i.class,t.policeWorkArea=i.workArea,t.victimWHO=e)}))}},bt=kt,yt=(e("c8ab"),Object(d["a"])(bt,Ct,_t,!1,null,"6f38d846",null)),wt=yt.exports;n["default"].use(ht["a"]);var Bt=new ht["a"]({mode:"history",routes:[{path:"/",redirect:"/flow"},{path:"/popup",name:"popup",component:J},{path:"/missionComplete",name:"missionComplete",component:Z},{path:"/flow",name:"flow",component:wt}]}),Ot=e("2f62");n["default"].use(Ot["a"]);var It=new Ot["a"].Store({}),St=e("755e"),$t=e("5f5b"),Dt=(e("f9e3"),e("2dd8"),e("da19"));n["default"].use(St,{load:{key:"AIzaSyA0vOfiRA790kgJ4-7Rx22ZvJL2g4VHA-c",libraries:"places"}}),n["default"].use($t["a"]),n["default"].use(Dt["a"]),n["default"].prototype.$eventBus=new n["default"],n["default"].prototype.$http=E.a,n["default"].config.productionTip=!1,new n["default"]({render:function(t){return t(gt)},router:Bt,store:It}).$mount("#app")},"5ae1":function(t,i,e){"use strict";var n=e("2a26"),o=e.n(n);o.a},"5c6a":function(t,i,e){},"5e84":function(t,i,e){t.exports=e.p+"img/NumberThree.ea0d9f66.png"},"5f06":function(t,i,e){},"60b0":function(t,i,e){t.exports=e.p+"img/finish.0956fc9b.png"},"6d03":function(t,i,e){t.exports=e.p+"img/NumberTwo.91922fc0.png"},"6edf":function(t,i,e){"use strict";var n=e("1897"),o=e.n(n);o.a},7426:function(t,i,e){"use strict";var n=e("0688"),o=e.n(n);o.a},7507:function(t,i,e){},"7ef5":function(t,i,e){"use strict";var n=e("eff3"),o=e.n(n);o.a},"82d4":function(t,i,e){"use strict";var n=e("5c6a"),o=e.n(n);o.a},"85ec":function(t,i,e){},"8b0e":function(t,i,e){"use strict";var n=e("7507"),o=e.n(n);o.a},"90c1":function(t,i,e){"use strict";var n=e("336d"),o=e.n(n);o.a},ad56:function(t,i,e){},c8ab:function(t,i,e){"use strict";var n=e("ad56"),o=e.n(n);o.a},eff3:function(t,i,e){}});
//# sourceMappingURL=app.8759be83.js.map